{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="container mt-7 mb-3 ">
        <div class="table-responsive">
            <table class="table table-striped table-bordered bg-white ">
                <thead>
                    <tr>
                        <th>
                            Tracking ID
                        </th>
                        <th>Origin</th>
                        <th>Destination</th>
                    <tr>
                </thead>
                <tbody>
                    {% for delivery in assigned_deliveries %}
                    <tr>
                        
                        <td>
                            <a href="{% url 'shipments:detail' delivery.shipment.id %}" class="text-primary">{{ delivery.shipment.tracking_number }}</a></td>
                        <td>{{ delivery.shipment.origin_address }}</td>
                        <td>{{ delivery.shipment.destination_address }}</td>
                        <td>
                            {% if delivery.status == 'ACCEPTED' %}
                            <span class="text-secondary">Accepted</span> 
                            {%elif delivery.status == 'DELIVERED' %}
                            <span class="text-success">Delivered</span>
                            {%else%}
                            <a href="{% url 'delivery:accept' delivery.shipment.id %}" class="text-primary">accept</a>
                            {% endif %}
                    </tr>
                    {% endfor %}
                    
                    {% if assigned_deliveries|length == 0 %}
                        <tr> <td colspan="8" class="text-center">
                            No Assigned shipments
                        </td></tr>

                    {% endif %}
                    
                </tbody>
            </table>
        </div>
</div>

<style>
    table{font-family:"fira code";font-size:14px}
</style>

<script>
document.getElementById("select_all").addEventListener("click", function(e) {
    let checkboxes = document.querySelectorAll('input[name="shipments"]');
    checkboxes.forEach(cb => cb.checked = e.target.checked);
});
</script>
{% endblock %}